From dd27a89cfb9ce0c7ae7a8ac80ab91f9374e25245 Mon Sep 17 00:00:00 2001
From: Hoang Phan <hoangphan@amorepacific.com>
Date: Tue, 8 Nov 2022 22:40:03 -0500
Subject: [PATCH] ITO0016-43 Fix error lazy load

---
 vendor/amasty/module-lazy-load/Model/Output/LazyLoadProcessor.php | 4 ++++
 1 file changed, 4 insertions(+)

diff --git a/vendor/amasty/module-lazy-load/Model/Output/LazyLoadProcessor.php b/vendor/amasty/module-lazy-load/Model/Output/LazyLoadProcessor.php
index 7d5c4d8..0d3101f 100644
--- a/vendor/amasty/module-lazy-load/Model/Output/LazyLoadProcessor.php
+++ b/vendor/amasty/module-lazy-load/Model/Output/LazyLoadProcessor.php
@@ -122,6 +122,10 @@ class LazyLoadProcessor implements OutputProcessorInterface
     {
         $tempOutput = preg_replace('/<script[^>]*>(?>.*?<\/script>)/is', '', $output);

+        if (!$tempOutput) {
+            $tempOutput = $output;
+        }
+        
         foreach ($this->regexPatterns as $patternKey => $regexConfig) {
             $this->currentRegexPattern = $patternKey;
             if (preg_match_all('/' . $this->getRegex($regexConfig) . '/is', $tempOutput, $images)) {
--
2.25.1

