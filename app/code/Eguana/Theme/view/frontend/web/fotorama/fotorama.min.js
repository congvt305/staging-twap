fotoramaVersion="4.6.4",function(t,e,n,o,i){"use strict";var a="fotorama",r="fotorama__fullscreen",s=a+"__wrap",u=s+"--css2",l=s+"--css3",c=s+"--video",d=s+"--fade",h=s+"--slide",f=s+"--no-controls",m=s+"--no-shadows",v=s+"--pan-y",p=s+"--rtl",g=s+"--no-captions",w=s+"--toggle-arrows",b=a+"__stage",y=b+"__frame",x=y+"--video",_=b+"__shaft",C=a+"__grab",k=a+"__pointer",P=a+"__arr",S=P+"--disabled",T=P+"--prev",F=P+"--next",E=a+"__nav",M=E+"-wrap",j=E+"__shaft",z=M+"--vertical",$=M+"--list",q=M+"--horizontal",N=E+"--dots",A=E+"--thumbs",L=E+"__frame",O=a+"__fade",I=O+"-front",D=O+"-rear",W=a+"__shadow"+"s",K=W+"--left",R=W+"--right",H=W+"--top",Q=W+"--bottom",V=a+"__active",X=a+"__select",B=a+"--hidden",Y=a+"--fullscreen",U=a+"__fullscreen-icon",G=a+"__error",J=a+"__loading",Z=a+"__loaded",tt=Z+"--full",et=Z+"--img",nt=a+"__grabbing",ot=a+"__img",it=ot+"--full",at=a+"__thumb",rt=at+"__arr--left",st=at+"__arr--right",ut=at+"-border",lt=a+"__html",ct=a+"-video-container",dt=a+"__video",ht=dt+"-play",ft=dt+"-close",mt=a+"_horizontal_ratio",vt=a+"_vertical_ratio",pt=a+"__spinner",gt=o&&o.fn.jquery.split(".");if(!gt||gt[0]<1||1==gt[0]&&gt[1]<8)throw"Fotorama requires jQuery 1.8 or later and will not run without it.";var wt=function(t,e,n){var o,i,a={},r=e.documentElement,s="modernizr",u=e.createElement(s),l=u.style,c=" -webkit- -moz- -o- -ms- ".split(" "),d="Webkit Moz O ms".split(" "),h="Webkit Moz O ms".toLowerCase().split(" "),f={},m=[],v=m.slice,p=function(t,n,o,i){var a,u,l,c,d=e.createElement("div"),h=e.body,f=h||e.createElement("body");if(parseInt(o,10))for(;o--;)(l=e.createElement("div")).id=i?i[o]:s+(o+1),d.appendChild(l);return a=["&#173;",'<style id="s',s,'">',t,"</style>"].join(""),d.id=s,(h?d:f).innerHTML+=a,f.appendChild(d),h||(f.style.background="",f.style.overflow="hidden",c=r.style.overflow,r.style.overflow="hidden",r.appendChild(f)),u=n(d,t),h?d.parentNode.removeChild(d):(f.parentNode.removeChild(f),r.style.overflow=c),!!u},g={}.hasOwnProperty;function w(t){l.cssText=t}function b(t,e){return typeof t===e}function y(t,e){for(var o in t){var i=t[o];if(!~(""+i).indexOf("-")&&l[i]!==n)return"pfx"!=e||i}return!1}function x(t,e,o){var i=t.charAt(0).toUpperCase()+t.slice(1),a=(t+" "+d.join(i+" ")+i).split(" ");return b(e,"string")||b(e,"undefined")?y(a,e):function(t,e,o){for(var i in t){var a=e[t[i]];if(a!==n)return!1===o?t[i]:b(a,"function")?a.bind(o||e):a}return!1}(a=(t+" "+h.join(i+" ")+i).split(" "),e,o)}for(var _ in i=b(g,"undefined")||b(g.call,"undefined")?function(t,e){return e in t&&b(t.constructor.prototype[e],"undefined")}:function(t,e){return g.call(t,e)},Function.prototype.bind||(Function.prototype.bind=function(t){var e=this;if("function"!=typeof e)throw new TypeError;var n=v.call(arguments,1),o=function(){if(this instanceof o){var i=function(){};i.prototype=e.prototype;var a=new i,r=e.apply(a,n.concat(v.call(arguments)));return Object(r)===r?r:a}return e.apply(t,n.concat(v.call(arguments)))};return o}),f.touch=function(){var n;return"ontouchstart"in t||t.DocumentTouch&&e instanceof DocumentTouch?n=!0:p(["@media (",c.join("touch-enabled),("),s,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(t){n=9===t.offsetTop}),n},f.csstransforms3d=function(){var t=!!x("perspective");return t&&"webkitPerspective"in r.style&&p("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(e,n){t=9===e.offsetLeft&&3===e.offsetHeight}),t},f.csstransitions=function(){return x("transition")},f)i(f,_)&&(o=_.toLowerCase(),a[o]=f[_](),m.push((a[o]?"":"no-")+o));return a.addTest=function(t,e){if("object"==typeof t)for(var o in t)i(t,o)&&a.addTest(o,t[o]);else{if(t=t.toLowerCase(),a[t]!==n)return a;e="function"==typeof e?e():e,"undefined"!=typeof enableClasses&&enableClasses&&(r.className+=" "+(e?"":"no-")+t),a[t]=e}return a},w(""),u=null,a._version="2.8.3",a._prefixes=c,a._domPrefixes=h,a._cssomPrefixes=d,a.testProp=function(t){return y([t])},a.testAllProps=x,a.testStyles=p,a.prefixed=function(t,e,n){return e?x(t,e,n):x(t,"pfx")},a}(t,e),bt={ok:!1,is:function(){return!1},request:function(){},cancel:function(){},event:"",prefix:""},yt="webkit moz o ms khtml".split(" ");if(void 0!==e.cancelFullScreen)bt.ok=!0;else for(var xt=0,_t=yt.length;xt<_t;xt++)if(bt.prefix=yt[xt],void 0!==e[bt.prefix+"CancelFullScreen"]){bt.ok=!0;break}bt.ok&&(bt.event=bt.prefix+"fullscreenchange",bt.is=function(){switch(this.prefix){case"":return e.fullScreen;case"webkit":return e.webkitIsFullScreen;default:return e[this.prefix+"FullScreen"]}},bt.request=function(t){return""===this.prefix?t.requestFullScreen():t[this.prefix+"RequestFullScreen"]()},bt.cancel=function(t){return""===this.prefix?e.cancelFullScreen():e[this.prefix+"CancelFullScreen"]()});var Ct,kt,Pt=o(t),St=o(e),Tt="quirks"===n.hash.replace("#",""),Ft=wt.csstransforms3d,Et=Ft&&!Tt,Mt=Ft||"CSS1Compat"===e.compatMode,jt=bt.ok,zt=navigator.userAgent.match(/Android|webOS|iPhone|iPad|iPod|BlackBerry|Windows Phone/i),$t=!Et||zt,qt=navigator.msPointerEnabled,Nt="onwheel"in e.createElement("div")?"wheel":e.onmousewheel!==i?"mousewheel":"DOMMouseScroll",At=250,Lt=300,Ot=1400,It=5e3,Dt=64,Wt=500,Kt=333,Rt="$stageFrame",Ht="$navDotFrame",Qt="$navThumbFrame",Vt="auto",Xt=function(t){var e="bez_"+o.makeArray(arguments).join("_").replace(".","p");if("function"!=typeof o.easing[e]){var n=function(t,e){var n=[null,null],o=[null,null],i=[null,null],a=function(a,r){return i[r]=3*t[r],o[r]=3*(e[r]-t[r])-i[r],n[r]=1-i[r]-o[r],a*(i[r]+a*(o[r]+a*n[r]))},r=function(t){return i[0]+t*(2*o[0]+3*n[0]*t)};return function(t){return a(function(t){for(var e,n=t,o=0;++o<14&&(e=a(n,0)-t,!(Math.abs(e)<.001));)n-=e/r(n);return n}(t),1)}};o.easing[e]=function(e,o,i,a,r){return a*n([t[0],t[1]],[t[2],t[3]])(o/r)+i}}return e}([.1,0,.25,1]),Bt=1,Yt={width:null,minwidth:null,maxwidth:"100%",height:null,minheight:null,maxheight:null,ratio:null,margin:2,nav:"dots",navposition:"bottom",navwidth:null,thumbwidth:Dt,thumbheight:Dt,thumbmargin:2,thumbborderwidth:2,allowfullscreen:!1,transition:"slide",clicktransition:null,transitionduration:Lt,captions:!0,startindex:0,loop:!1,autoplay:!1,stopautoplayontouch:!0,keyboard:!1,arrows:!0,click:!0,swipe:!1,trackpad:!1,shuffle:!1,direction:"ltr",shadows:!0,showcaption:!0,navdir:"horizontal",navarrows:!0,navtype:"thumbs"},Ut={left:!0,right:!0,down:!0,up:!0,space:!1,home:!1,end:!1};function Gt(){}function Jt(t,e,n){return Math.max(isNaN(e)?-1/0:e,Math.min(isNaN(n)?1/0:n,t))}function Zt(t,e){return Et?+function(t,e){return t.match(/ma/)&&t.match(/-?\d+(?!d)/g)[t.match(/3d/)?"vertical"===e?13:12:"vertical"===e?5:4]}(t.css("transform"),e):+t.css("vertical"===e?"top":"left").replace("px","")}function te(t,e){var n={};if(Et)switch(e){case"vertical":n.transform="translate3d(0, "+t+"px,0)";break;case"list":break;default:n.transform="translate3d("+t+"px,0,0)"}else"vertical"===e?n.top=t:n.left=t;return n}function ee(t){return{"transition-duration":t+"ms"}}function ne(t,e){return isNaN(t)?e:t}function oe(t,e){return ne(+String(t).replace(e||"px",""))}function ie(t,e){return ne(function(t){return/%$/.test(t)?oe(t,"%"):i}(t)/100*e,oe(t))}function ae(t){return(!isNaN(oe(t))||!isNaN(oe(t,"%")))&&t}function re(t,e,n,o){return(t-(o||0))*(e+(n||0))}function se(t,e,n,o){var i,a=t.data();a&&(a.onEndFn=function(){i||(i=!0,clearTimeout(a.tT),n())},a.tProp=e,clearTimeout(a.tT),a.tT=setTimeout(function(){a.onEndFn()},1.5*o),function(t){var e=t.data();e.tEnd||(Se(t[0],{WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",msTransition:"MSTransitionEnd",transition:"transitionend"}[wt.prefixed("transition")],function(t){e.tProp&&t.propertyName.match(e.tProp)&&e.onEndFn()}),e.tEnd=!0)}(t))}function ue(t,e){var n=t.navdir||"horizontal";if(t.length){var o=t.data();Et?(t.css(ee(0)),o.onEndFn=Gt,clearTimeout(o.tT)):t.stop();var i=le(e,function(){return Zt(t,n)});return t.css(te(i,n)),i}}function le(){for(var t,e=0,n=arguments.length;e<n&&"number"!=typeof(t=e?arguments[e]():arguments[e]);e++);return t}function ce(t,e){return Math.round(t+(e-t)/1.5)}function de(){return de.p=de.p||("https:"===n.protocol?"https://":"http://"),de.p}function he(t,n){if("string"!=typeof t)return t;var o,i;if((t=function(t){var n=e.createElement("a");return n.href=t,n}(t)).host.match(/youtube\.com/)&&t.search){if(o=t.search.split("v=")[1]){var a=o.indexOf("&");-1!==a&&(o=o.substring(0,a)),i="youtube"}}else t.host.match(/youtube\.com|youtu\.be|youtube-nocookie.com/)?(o=t.pathname.replace(/^\/(embed\/|v\/)?/,"").replace(/\/.*/,""),i="youtube"):t.host.match(/vimeo\.com/)&&(i="vimeo",o=t.pathname.replace(/^\/(video\/)?/,"").replace(/\/.*/,""));return o&&i||!n||(o=t.href,i="custom"),!!o&&{id:o,type:i,s:t.search.replace(/^\?/,""),p:de()}}function fe(t,e,n,i){for(var a=0,r=t.length;a<r;a++){var s=t[a];if(s.i===n&&s.thumbsReady){var u={videoReady:!0};u[Rt]=u[Qt]=u[Ht]=!1,i.splice(a,1,o.extend({},s,u,e));break}}}function me(t){var e=[];function n(t,e,n){var i=n.thumb&&n.img!==n.thumb,a=oe(n.width||t.attr("width")),r=oe(n.height||t.attr("height"));o.extend(n,{width:a,height:r,thumbratio:Pe(n.thumbratio||oe(n.thumbwidth||e&&e.attr("width")||i||a)/oe(n.thumbheight||e&&e.attr("height")||i||r))})}return t.children().each(function(){var t,i,a,r,s,u,l,c,d,h=o(this),f=ke(o.extend(h.data(),{id:h.attr("id")}));if(h.is("a, img"))i=f,a=!0,r=(t=h).children("img").eq(0),s=t.attr("href"),u=t.attr("src"),l=r.attr("src"),c=i.video,(d=!!a&&he(s,!0===c))?s=!1:d=c,n(t,r,o.extend(i,{video:d,img:i.img||s||u||l,thumb:i.thumb||l||u||s}));else{if(h.is(":empty"))return;n(h,null,o.extend(f,{html:this,_html:h.html()}))}e.push(f)}),e}function ve(t,e,n,o){return ve.i||(ve.i=1,ve.ii=[!0]),o=o||ve.i,void 0===ve.ii[o]&&(ve.ii[o]=!0),t()?e():ve.ii[o]&&setTimeout(function(){ve.ii[o]&&ve(t,e,n,o)},n||100),ve.i++}function pe(t,e){var n=t.data(),o=n.measures;if(o&&(!n.l||n.l.W!==o.width||n.l.H!==o.height||n.l.r!==o.ratio||n.l.w!==e.w||n.l.h!==e.h)){var i=Jt(e.h,0,o.height),a=i*o.ratio;Oe.setRatio(t,a,i),n.l={W:o.width,H:o.height,r:o.ratio,w:e.w,h:e.h}}return!0}function ge(t,e,n,o){return e!==n&&("vertical"===o?t<=e?"top":t>=n?"bottom":"top bottom":t<=e?"left":t>=n?"right":"left right")}function we(t,e,n){n=n||{},t.each(function(){var t,i=o(this),a=i.data();a.clickOn||(a.clickOn=!0,o.extend(We(i,{onStart:function(e){t=e,(n.onStart||Gt).call(this,e)},onMove:n.onMove||Gt,onTouchEnd:n.onTouchEnd||Gt,onEnd:function(n){n.moved||e.call(this,t)}}),{noMove:!0}))})}function be(t,e){return'<div class="'+t+'">'+(e||"")+"</div>"}function ye(t){return"."+t}function xe(t){for(var e=t.length;e;){var n=Math.floor(Math.random()*e--),o=t[e];t[e]=t[n],t[n]=o}return t}function _e(t){return"[object Array]"==Object.prototype.toString.call(t)&&o.map(t,function(t){return o.extend({},t)})}function Ce(t,e,n){t.scrollLeft(e||0).scrollTop(n||0)}function ke(t){if(t){var e={};return o.each(t,function(t,n){e[t.toLowerCase()]=n}),e}}function Pe(t){if(t){var e=+t;return isNaN(e)?+(e=t.split("/"))[0]/+e[1]||i:e}}function Se(t,e,n,o){e&&(t.addEventListener?t.addEventListener(e,n,!!o):t.attachEvent("on"+e,n))}function Te(t,e){return t>e.max?t=e.max:t<e.min&&(t=e.min),t}function Fe(t,e){return e?{disabled:t}:{tabindex:-1*t+"",disabled:t}}function Ee(t,e){Se(t,"keyup",function(n){(function(t){return!!t.getAttribute("disabled")})(t)||13==n.keyCode&&e.call(t,n)})}function Me(t,e){Se(t,"focus",t.onfocusin=function(n){e.call(t,n)},!0)}function je(t,e){t.preventDefault?t.preventDefault():t.returnValue=!1,e&&t.stopPropagation&&t.stopPropagation()}function ze(t){return t?">":"<"}ve.stop=function(t){ve.ii[t]=!1};var $e,qe,Ne,Ae,Le,Oe=function(){return{setRatio:function(t,e,n){e/n<=1?(t.parent().removeClass(mt),t.parent().addClass(vt)):(t.parent().removeClass(vt),t.parent().addClass(mt))},setThumbAttr:function(t,e,n){var a=n;t.attr(a)||t.attr(a)===i||t.attr(a,e),t.find("["+a+"]").length&&t.find("["+a+"]").each(function(){o(this).attr(a,e)})},isExpectedCaption:function(t,e,n){var o,i=!1;return o=t.showCaption===n||!0===t.showCaption,!!e&&(t.caption&&o&&(i=!0),i)}}}(jQuery);function Ie(t,e){var n=t.data(),i=Math.round(e.pos),a=function(){n&&n.sliding&&(n.sliding=!1),(e.onEnd||Gt)()};void 0!==e.overPos&&e.overPos!==e.pos&&(i=e.overPos);var r=o.extend(te(i,e.direction),e.width&&{width:e.width},e.height&&{height:e.height});n&&n.sliding&&(n.sliding=!0),Et?(t.css(o.extend(ee(e.time),r)),e.time>10?se(t,"transform",a,e.time):a()):t.stop().animate(r,e.time,Xt,a)}function De(t){var e=(t.touches||[])[0]||t;t._x=e.pageX||e.originalEvent.pageX,t._y=e.clientY||e.originalEvent.clientY,t._now=o.now()}function We(t,n){var i,a,r,s,u,l,c,d,h,f=t[0],m={};function v(t){if(r=o(t.target),m.checked=l=c=h=!1,i||m.flow||t.touches&&t.touches.length>1||t.which>1||$e&&$e.type!==t.type&&Ne||(l=n.select&&r.is(n.select,f)))return l;u="touchstart"===t.type,c=r.is("a, a *",f),s=m.control,d=m.noMove||m.noSwipe||s?16:m.snap?0:4,De(t),a=$e=t,qe=t.type.replace(/down|start/,"move").replace(/Down/,"Move"),(n.onStart||Gt).call(f,t,{control:s,$target:r}),i=m.flow=!0,u&&!m.go||je(t)}function p(t){if(t.touches&&t.touches.length>1||qt&&!t.isPrimary||qe!==t.type||!i)return i&&w(),void(n.onTouchEnd||Gt)();De(t);var e=Math.abs(t._x-a._x),o=Math.abs(t._y-a._y),r=e-o,s=(m.go||m.x||r>=0)&&!m.noSwipe,l=r<0;u&&!m.checked?(i=s)&&je(t):(je(t),g(e,o)&&(n.onMove||Gt).call(f,t,{touch:u})),!h&&g(e,o)&&Math.sqrt(Math.pow(e,2)+Math.pow(o,2))>d&&(h=!0),m.checked=m.checked||s||l}function g(t,e){return t>e&&t>1.5}function w(t){(n.onTouchEnd||Gt)();var e=i;m.control=i=!1,e&&(m.flow=!1),!e||c&&!m.checked||(t&&je(t),Ne=!0,clearTimeout(Ae),Ae=setTimeout(function(){Ne=!1},1e3),(n.onEnd||Gt).call(f,{moved:h,$target:r,control:s,touch:u,startEvent:a,aborted:!t||"MSPointerCancel"===t.type}))}function b(){m.flow&&(m.flow=!1)}return qt?(Se(f,"MSPointerDown",v),Se(e,"MSPointerMove",p),Se(e,"MSPointerCancel",w),Se(e,"MSPointerUp",w)):(Se(f,"touchstart",v),Se(f,"touchmove",p),Se(f,"touchend",w),Se(e,"touchstart",function(){m.flow||(m.flow=!0)}),Se(e,"touchend",b),Se(e,"touchcancel",b),Pt.on("scroll",b),t.on("mousedown pointerdown",v),St.on("mousemove pointermove",p).on("mouseup pointerup",w)),Le=wt.touch?"a":"div",t.on("click",Le,function(t){m.checked&&je(t)}),m}function Ke(t,e){var n,i,a,r,s,u,l,c,d,h,f,m,v,p,g,w=t[0],b=t.data(),y={};function x(o,s){g=!0,n=i="vertical"===m?o._y:o._x,l=o._now,u=[[l,n]],a=r=y.noMove||s?0:ue(t,(e.getPos||Gt)()),(e.onStart||Gt).call(w,o)}return y=o.extend(We(e.$wrap,o.extend({},e,{onStart:function(e,n){d=y.min,h=y.max,f=y.snap,m=y.direction||"horizontal",t.navdir=m,v=e.altKey,g=p=!1,n.control||b.sliding||x(e)},onMove:function(o,l){y.noSwipe||(g||x(o),i="vertical"===m?o._y:o._x,u.push([o._now,i]),s=ge(r=a-(n-i),d,h,m),r<=d?r=ce(r,d):r>=h&&(r=ce(r,h)),y.noMove||(t.css(te(r,m)),p||(p=!0,l.touch||qt||t.addClass(nt)),(e.onMove||Gt).call(w,o,{pos:r,edge:s})))},onEnd:function(n){if(!y.noSwipe||!n.moved){g||x(n.startEvent,!0),n.touch||qt||t.removeClass(nt);for(var s,l,p,b,_,C,k,P,S,T=(c=o.now())-At,F=null,E=Lt,M=e.friction,j=u.length-1;j>=0;j--){if(s=u[j][0],l=Math.abs(s-T),null===F||l<p)F=s,b=u[j][1];else if(F===T||l>p)break;p=l}k=Jt(r,d,h);var z=b-i,$=z>=0,q=c-F,N=q>At,A=!N&&r!==a&&k===r;f&&(k=Jt(Math[A?$?"floor":"ceil":"round"](r/f)*f,d,h),d=h=k),A&&(f||k===r)&&(S=-z/q,E*=Jt(Math.abs(S),e.timeLow,e.timeHigh),_=Math.round(r+S*E/M),f||(k=_),(!$&&_>h||$&&_<d)&&(C=$?d:h,f||(k=C),P=Jt(k+.03*(P=_-C),C-50,C+50),E=Math.abs((r-P)/(S/M)))),E*=v?10:1,(e.onEnd||Gt).call(w,o.extend(n,{moved:n.moved||N&&f,pos:r,newPos:k,overPos:P,time:E,dir:m}))}}})),y)}function Re(t,e){var n,i,a,r=t[0],s={prevent:{}};return Se(r,Nt,function(t){var r=t.wheelDeltaY||-1*t.deltaY||0,u=t.wheelDeltaX||-1*t.deltaX||0,l=Math.abs(u)&&!Math.abs(r),c=ze(u<0),d=i===c,h=o.now(),f=h-a<At;i=c,a=h,l&&s.ok&&(!s.prevent[c]||n)&&(je(t,!0),n&&d&&f||(e.shift&&(n=!0,clearTimeout(s.t),s.t=setTimeout(function(){n=!1},Ot)),(e.onEnd||Gt)(t,e.shift?c:u)))}),s}function He(){o.each(o.Fotorama.instances,function(t,e){e.index=t})}jQuery.Fotorama=function(n,O){Ct=o("html"),kt=o("body");var nt,at,mt,vt,gt,wt,yt,xt,_t,Tt,Ft,zt,Nt,Ot,Xt,Yt,ne,se,ce,Se,$e,qe,Ne,Ae,Le,De,We,Qe,Ve,Xe,Be,Ye,Ue,Ge,Je,Ze,tn=this,en=o.now(),nn=a+en,on=n[0],an=1,rn=n.data(),sn=o("<style></style>"),un=o(be(B)),ln=n.find(ye(s)),cn=ln.find(ye(b)),dn=(cn[0],n.find(ye(_))),hn=o(),fn=n.find(ye(T)),mn=n.find(ye(F)),vn=n.find(ye(P)),pn=n.find(ye(M)),gn=pn.find(ye(E)),wn=gn.find(ye(j)),bn=o(),yn=o(),xn=(dn.data(),wn.data(),n.find(ye(ut))),_n=n.find(ye(rt)),Cn=n.find(ye(st)),kn=n.find(ye(U)),Pn=kn[0],Sn=o(be(ht)),Tn=n.find(ye(ft))[0],Fn=(n.find(ye(pt)),!1),En={},Mn={},jn={},zn={},$n={},qn={},Nn={},An=0,Ln=[];function On(){o.each(nt,function(t,e){if(!e.i){e.i=an++;var n=he(e.video,!0);if(n){var i={};e.video=n,e.img||e.thumb?e.thumbsReady=!0:i=function(t,e,n){var i,a,r=t.video;return"youtube"===r.type?(i=(a=de()+"img.youtube.com/vi/"+r.id+"/default.jpg").replace(/\/default.jpg$/,"/hqdefault.jpg"),t.thumbsReady=!0):"vimeo"===r.type?o.ajax({url:de()+"vimeo.com/api/v2/video/"+r.id+".json",dataType:"jsonp",success:function(o){t.thumbsReady=!0,fe(e,{img:o[0].thumbnail_large,thumb:o[0].thumbnail_small},t.i,n)}}):t.thumbsReady=!0,{img:i,thumb:a}}(e,nt,tn),fe(nt,{img:i.img,thumb:i.thumb},e.i,tn)}}})}function In(t){return We[t]}function Dn(){if(cn!==i)if("vertical"==O.navdir){var t=O.thumbwidth+O.thumbmargin;cn.css("left",t),mn.css("right",t),kn.css("right",t),ln.css("width",ln.css("width")+t),dn.css("max-width",ln.width()-t)}else cn.css("left",""),mn.css("right",""),kn.css("right",""),ln.css("width",ln.css("width")+t),dn.css("max-width","")}function Wn(t){var e;t!==Wn.f&&(t?(n.addClass(a+" "+nn).before(un).before(sn),e=tn,o.Fotorama.instances.push(e),He()):(un.detach(),sn.detach(),n.html(rn.urtext).removeClass(nn),function(t){o.Fotorama.instances.splice(t.index,1),He()}(tn)),function(t){var e,n="keydown."+a,i=a+en,s="keydown."+i,u="keyup."+i,l="resize."+i+" orientationchange."+i;t?(St.on(s,function(t){var n,i;vt&&27===t.keyCode?(n=!0,Fo(vt,!0,!0)):(tn.fullScreen||O.keyboard&&!tn.index)&&(27===t.keyCode?(n=!0,tn.cancelFullScreen()):t.shiftKey&&32===t.keyCode&&In("space")||!t.altKey&&!t.metaKey&&37===t.keyCode&&In("left")||38===t.keyCode&&In("up")&&o(":focus").attr("data-gallery-role")?(tn.longPress.progress(),i="<"):32===t.keyCode&&In("space")||!t.altKey&&!t.metaKey&&39===t.keyCode&&In("right")||40===t.keyCode&&In("down")&&o(":focus").attr("data-gallery-role")?(tn.longPress.progress(),i=">"):36===t.keyCode&&In("home")?(tn.longPress.progress(),i="<<"):35===t.keyCode&&In("end")&&(tn.longPress.progress(),i=">>")),(n||i)&&je(t),e={index:i,slow:t.altKey,user:!0},i&&(tn.longPress.inProgress?tn.showWhileLongPress(e):tn.show(e))}),t&&St.on(u,function(t){tn.longPress.inProgress&&tn.showEndLongPress({user:!0}),tn.longPress.reset()}),tn.index||St.off(n).on(n,"textarea, input, select",function(t){!kt.hasClass(r)&&t.stopPropagation()}),Pt.on(l,tn.resize)):(St.off(s),Pt.off(l))}(t),Wn.f=t)}function Kn(){var t=at<2||vt;Mn.noMove=t||Se,Mn.noSwipe=t||!O.swipe,!Ae&&dn.toggleClass(C,!O.click&&!Mn.noMove&&!Mn.noSwipe),qt&&ln.toggleClass(v,!Mn.noSwipe)}function Rn(t){!0===t&&(t=""),O.autoplay=Math.max(+t||It,1.5*Ne)}function Hn(t,e){return Math.floor(ln.width()/(e.thumbwidth+e.thumbmargin))}function Qn(){var e;O.nav&&"dots"!==O.nav||(O.navdir="horizontal"),tn.options=O=ke(O),Bt=Hn(0,O),Se="crossfade"===O.transition||"dissolve"===O.transition,Ot=O.loop&&(at>2||Se&&(!Ae||"slide"!==Ae)),Ne=+O.transitionduration||Lt,De="rtl"===O.direction,We=o.extend({},O.keyboard&&Ut,O.keyboard),(e=O).navarrows&&"thumbs"===e.nav?(_n.show(),Cn.show()):(_n.hide(),Cn.hide());var n,i,a,r={add:[],remove:[]};function s(t,e){r[t?"add":"remove"].push(e)}at>1?(Xt=O.nav,ne="top"===O.navposition,r.remove.push(X),vn.toggle(!!O.arrows)):(Xt=!1,vn.hide()),uo(),co(),lo(),O.autoplay&&Rn(O.autoplay),$e=oe(O.thumbwidth)||Dt,qe=oe(O.thumbheight)||Dt,jn.ok=$n.ok=O.trackpad&&!$t,Kn(),wo(O,[En]),Yt="thumbs"===Xt,pn.filter(":hidden")&&Xt&&pn.show(),Yt?(no(at,"navThumb"),mt=yn,Ze=Qt,n=sn,i=o.Fotorama.jst.style({w:$e,h:qe,b:O.thumbborderwidth,m:O.thumbmargin,s:en,q:!Mt}),(a=n[0]).styleSheet?a.styleSheet.cssText=i:n.html(i),gn.addClass(A).removeClass(N)):"dots"===Xt?(no(at,"navDot"),mt=bn,Ze=Ht,gn.addClass(N).removeClass(A)):(pn.hide(),Xt=!1,gn.removeClass(A+" "+N)),Xt&&(ne?pn.insertBefore(cn):pn.insertAfter(cn),ro.nav=!1,ro(mt,wn,"nav")),(se=O.allowfullscreen)?(kn.prependTo(cn),ce=jt&&"native"===se,function(e,n){/ip(ad|hone|od)/i.test(t.navigator.userAgent)&&"touchend"===n&&e.on("touchend",function(t){St.trigger("mouseup",t)}),e.on(n,function(t){return je(t,!0),!1})}(kn,"touchend")):(kn.detach(),ce=!1),s(Se,d),s(!Se,h),s(!O.captions,g),s(De,p),s(O.arrows,w),s(!(Le=O.shadows&&!$t),m),ln.addClass(r.add.join(" ")).removeClass(r.remove.join(" ")),o.extend({},O),Dn()}function Vn(t){return t<0?(at+t%at)%at:t>=at?t%at:t}function Xn(t){return Jt(t,0,at-1)}function Bn(t){return Ot?Vn(t):Xn(t)}function Yn(t){return!!(t>0||Ot)&&t-1}function Un(t){return!!(t<at-1||Ot)&&t+1}function Gn(t,e,n){if("number"==typeof t){t=new Array(t);var i=!0}return o.each(t,function(t,o){if(i&&(o=t),"number"==typeof o){var a=nt[Vn(o)];if(a){var r="$"+e+"Frame",s=a[r];n.call(this,t,o,a,s,r,s&&s.data())}}})}function Jn(t,e,n,o){(!Qe||"*"===Qe&&o===Nt)&&(t=ae(O.width)||ae(t)||Wt,e=ae(O.height)||ae(e)||Kt,tn.resize({width:t,ratio:O.ratio||n||t/e},0,o!==Nt&&"*"))}function Zn(t,e,n,i){Gn(t,e,function(t,a,r,s,u,l){if(s){var c=tn.fullScreen&&!l.$full&&"stage"===e;if(!l.$img||i||c){var d=new Image,h=o(d),f=h.data();l[c?"$full":"$img"]=h;var m="stage"===e?c?"full":"img":"thumb",v=r[m],p=c?r.img:r["stage"===e?"thumb":"img"];"navThumb"===e&&(s=l.$wrap),v?(o.Fotorama.cache[v]?function t(){"error"===o.Fotorama.cache[v]?w():"loaded"===o.Fotorama.cache[v]?setTimeout(b,0):setTimeout(t,100)}():(o.Fotorama.cache[v]="*",h.on("load",b).on("error",w)),l.state="",d.src=v,l.data.caption&&(d.alt=l.data.caption||""),l.data.full&&o(d).data("original",l.data.full),Oe.isExpectedCaption(r,O.showcaption)&&o(d).attr("aria-labelledby",r.labelledby)):w()}}function g(t){var e=Vn(a);bo(t,{index:e,src:v,frame:nt[e]})}function w(){h.remove(),o.Fotorama.cache[v]="error",r.html&&"stage"===e||!p||p===v?(!v||r.html||c?"stage"===e&&(s.trigger("f:load").removeClass(J+" "+G).addClass(Z),g("load"),Jn()):(s.trigger("f:error").removeClass(J).addClass(G),g("error")),l.state="error",!(at>1&&nt[a]===r)||r.html||r.deleted||r.video||c||(r.deleted=!0,tn.splice(a,1))):(r[m]=v=p,l.$full=null,Zn([a],e,n,!0))}function b(){var t=10;ve(function(){return!Ge||!t--&&!$t},function(){o.Fotorama.measures[v]=f.measures=o.Fotorama.measures[v]||{width:d.width,height:d.height,ratio:d.width/d.height},Jn(f.measures.width,f.measures.height,f.measures.ratio,a),h.off("load error").addClass(""+(c?it:ot)).attr("aria-hidden","false").prependTo(s),s.hasClass(y)&&!s.hasClass(ct)&&s.attr("href",h.attr("src")),pe(h,(o.isFunction(n)?n():n)||En),o.Fotorama.cache[v]=l.state="loaded",setTimeout(function(){s.trigger("f:load").removeClass(J+" "+G).addClass(Z+" "+(c?tt:et)),"stage"===e?g("load"):(r.thumbratio===Vt||!r.thumbratio&&O.thumbratio===Vt)&&(r.thumbratio=f.measures.ratio,Ao())},0)})}})}function to(){var t=gt[Rt];t&&!t.data().state&&t.on("f:load f:error",function(){t.off("f:load f:error"),o('div[data-role="loader"]').remove()})}function eo(t){Ee(t,$o),Me(t,function(){setTimeout(function(){Ce(gn)},0),mo({time:Ne,guessIndex:o(this).data().eq,minMax:zn})})}function no(t,e){Gn(t,e,function(t,n,i,a,r,s){if(!a){a=i[r]=ln[r].clone(),(s=a.data()).data=i;var u=a[0],l="labelledby"+o.now();"stage"===e?(i.html&&o('<div class="'+lt+'"></div>').append(i._html?o(i.html).removeAttr("id").html(i._html):i.html).appendTo(a),i.id&&(l=i.id||l),i.labelledby=l,Oe.isExpectedCaption(i,O.showcaption)&&o(o.Fotorama.jst.frameCaption({caption:i.caption,labelledby:l})).appendTo(a),i.video&&a.addClass(x).append(Sn.clone()),Me(u,function(t){setTimeout(function(){Ce(cn)},0),jo({index:s.eq,user:!0},t)}),hn=hn.add(a)):"navDot"===e?(eo(u),bn=bn.add(a)):"navThumb"===e&&(eo(u),s.$wrap=a.children(":first"),yn=yn.add(a),i.video&&s.$wrap.append(Sn.clone()))}})}function oo(t,e){return t&&t.length&&pe(t,e)}function io(t){Gn(t,"stage",function(t,n,i,a,r,s){if(a){var u,l=Vn(n);s.eq=l,Nn[Rt][l]=a.css(o.extend({left:Se?0:re(n,En.w,O.margin,yt)},Se&&ee(0))),u=a[0],o.contains(e.documentElement,u)||(a.appendTo(dn),Fo(i.$video)),oo(s.$img,En),oo(s.$full,En),!a.hasClass(y)||"false"===a.attr("aria-hidden")&&a.hasClass(V)||a.attr("aria-hidden","true")}})}function ao(t,e){var n,i;"thumbs"!==Xt||isNaN(t)||(n=-t,i=-t+En.nw,"vertical"===O.navdir&&(t-=O.thumbheight,i=-t+En.h),yn.each(function(){var t=o(this).data(),a=t.eq,r=function(){return{h:qe,w:t.w}},s=r(),u="vertical"===O.navdir?t.t>i:t.l>i;s.w=t.w,"vertical"!==O.navdir&&t.l+t.w<n||u||oo(t.$img,s)||e&&Zn([a],"navThumb",r)}))}function ro(t,e,n){if(!ro[n]){var i="nav"===n&&Yt,a=0,r=0;e.append(t.filter(function(){for(var t,e=o(this),n=e.data(),i=0,a=nt.length;i<a;i++)if(n.data===nt[i]){t=!0,n.eq=i;break}return t||e.remove()&&!1}).sort(function(t,e){return o(t).data().eq-o(e).data().eq}).each(function(){var t=o(this),e=t.data();Oe.setThumbAttr(t,e.data.caption,"aria-label")}).each(function(){if(i){var t=o(this),e=t.data(),n=Math.round(qe*e.data.thumbratio)||$e,s=Math.round($e/e.data.thumbratio)||qe;e.t=r,e.h=s,e.l=a,e.w=n,t.css({width:n}),r+=s+O.thumbmargin,a+=n+O.thumbmargin}})),ro[n]=!0}}function so(t){return!(Ot||Fn+t&&Fn-at+t||vt)}function uo(){var t=so(0),e=so(1);fn.toggleClass(S,t).attr(Fe(t,!1)),mn.toggleClass(S,e).attr(Fe(e,!1))}function lo(){var t=!1,e=!1;if("thumbs"!==O.navtype||O.loop||(t=0==Fn,e=Fn==O.data.length-1),"slides"===O.navtype){var n=Zt(wn,O.navdir);t=n>=zn.max,e=n<=zn.min}_n.toggleClass(S,t).attr(Fe(t,!0)),Cn.toggleClass(S,e).attr(Fe(e,!0))}function co(){jn.ok&&(jn.prevent={"<":so(0),">":so(1)})}function ho(t){var e,n,o,i,a=t.data();Yt?(e=a.l,n=a.t,o=a.w,i=a.h):(e=t.position().left,o=t.width());var r={c:e+o/2,min:-e+10*O.thumbmargin,max:-e+En.w-o-10*O.thumbmargin},s={c:n+i/2,min:-n+10*O.thumbmargin,max:-n+En.h-i-10*O.thumbmargin};return"vertical"===O.navdir?s:r}function fo(t){var e=gt[Ze].data();Ie(xn,{time:1.2*t,pos:"vertical"===O.navdir?e.t:e.l,width:e.w,height:e.h,direction:O.navdir})}function mo(t){var e,n,o,i,a,r,s,u,l=nt[t.guessIndex][Ze],c=O.navtype;l&&("thumbs"===c?(e=zn.min!==zn.max,o=t.minMax||e&&ho(gt[Ze]),i=e&&(t.keep&&mo.t?mo.l:Jt((t.coo||En.nw/2)-ho(l).c,o.min,o.max)),a=e&&(t.keep&&mo.l?mo.l:Jt((t.coo||En.nw/2)-ho(l).c,o.min,o.max)),r="vertical"===O.navdir?i:a,s=e&&Jt(r,zn.min,zn.max)||0,n=1.1*t.time,Ie(wn,{time:n,pos:s,direction:O.navdir,onEnd:function(){ao(s,!0),lo()}}),To(gn,ge(s,zn.min,zn.max,O.navdir)),mo.l=r):(u=Zt(wn,O.navdir),n=1.11*t.time,s=function(t,e,n,o,i,a,r){var s,u;return"horizontal"===r?(s=t.thumbwidth,u=a.width()):(s=t.thumbheight,u=a.height()),Te((s+t.margin)*(n+1)>=u-o?"horizontal"===r?-i.position().left:-i.position().top:(s+t.margin)*n<=Math.abs(o)?"horizontal"===r?-i.position().left+u-(s+t.margin):-i.position().top+u-(s+t.margin):o,e)||0}(O,zn,t.guessIndex,u,l,pn,O.navdir),Ie(wn,{time:n,pos:s,direction:O.navdir,onEnd:function(){ao(s,!0),lo()}}),To(gn,ge(s,zn.min,zn.max,O.navdir))))}function vo(t){for(var e=qn[t];e.length;)e.shift().removeClass(V).attr("data-active",!1)}function po(t){var e=Nn[t];o.each(wt,function(t,n){delete e[Vn(n)]}),o.each(e,function(t,n){delete e[t],n.detach()})}function go(t){yt=xt=Fn;var e,o,i,a=gt[Rt];a&&(vo(Rt),qn[Rt].push(a.addClass(V).attr("data-active",!0)),a.hasClass(y)&&a.attr("aria-hidden","false"),t||tn.showStage.onEnd(!0),ue(dn,0),po(Rt),io(wt),Mn.min=Ot?-1/0:-re(at-1,En.w,O.margin,yt),Mn.max=Ot?1/0:-re(0,En.w,O.margin,yt),Mn.snap=En.w+O.margin,e="vertical"===O.navdir,o=e?wn.height():wn.width(),i=e?En.h:En.nw,zn.min=Math.min(0,i-o),zn.max=0,zn.direction=O.navdir,wn.toggleClass(C,!(zn.noMove=zn.min===zn.max)),Ee(dn[0],function(){n.hasClass(Y)||(tn.requestFullScreen(),kn.focus())}))}function wo(t,e){t&&o.each(e,function(e,n){n&&o.extend(n,{width:t.width||n.width,height:t.height,minwidth:t.minwidth,maxwidth:t.maxwidth,minheight:t.minheight,maxheight:t.maxheight,ratio:Pe(t.ratio)})})}function bo(t,e){n.trigger(a+":"+t,[tn,e])}function yo(){clearTimeout(xo.t),Ge=1,O.stopautoplayontouch?tn.stopAutoplay():Be=!0}function xo(){Ge&&(O.stopautoplayontouch||(_o(),Co()),xo.t=setTimeout(function(){Ge=0},Lt+At))}function _o(){Be=!(!vt&&!Ye)}function Co(){if(clearTimeout(Co.t),ve.stop(Co.w),O.autoplay&&!Be){tn.autoplay||(tn.autoplay=!0,bo("startautoplay"));var t=Fn,e=gt[Rt].data();Co.w=ve(function(){return e.state||t!==Fn},function(){Co.t=setTimeout(function(){if(!Be&&t===Fn){var e=zt,n=nt[e][Rt].data();Co.w=ve(function(){return n.state||e!==zt},function(){Be||e!==zt||tn.show(Ot?ze(!De):zt)})}},O.autoplay)})}else tn.autoplay&&(tn.autoplay=!1,bo("stopautoplay"))}function ko(t){var e;return"object"!=typeof t?(e=t,t={}):e=t.index,e=">"===e?xt+1:"<"===e?xt-1:"<<"===e?0:">>"===e?at-1:e,e=void 0===(e=isNaN(e)?i:e)?Fn||0:e}function Po(t){tn.activeIndex=Fn=Bn(t),Tt=Yn(Fn),Ft=Un(Fn),zt=Vn(Fn+(De?-1:1)),wt=[Fn,Tt,Ft],xt=Ot?t:Fn}function So(t){var e=Math.abs(_t-xt),n=le(t.time,function(){return Math.min(Ne*(1+(e-1)/12),2*Ne)});return t.slow&&(n*=10),n}function To(t,e){Le&&(t.removeClass(K+" "+R),t.removeClass(H+" "+Q),e&&!vt&&t.addClass(e.replace(/^|\s/g," "+W+"--")))}function Fo(t,e,n){e&&(ln.removeClass(c),vt=!1,Kn()),t&&t!==vt&&(t.remove(),bo("unloadvideo")),n&&(_o(),Co())}function Eo(t){ln.toggleClass(f,t)}function Mo(t){if(!Mn.flow){var e=t?t.pageX:Mo.x,n=e&&!so(function(t){return t-An>En.w/3}(e))&&O.click;Mo.p!==n&&cn.toggleClass(k,n)&&(Mo.p=n,Mo.x=e)}}function jo(t,e){clearTimeout(jo.t),O.clicktransition&&O.clicktransition!==O.transition?setTimeout(function(){var e=O.transition;tn.setOptions({transition:O.clicktransition}),Ae=e,jo.t=setTimeout(function(){tn.show(t)},10)},0):tn.show(t,e)}function zo(t,e){Mn[t]=zn[t]=e}function $o(t){var e=o(this).data().eq;"thumbs"===O.navtype?jo({index:e,slow:t.altKey,user:!0,coo:t._x-gn.offset().left}):jo({index:e,slow:t.altKey,user:!0})}function qo(t){jo({index:vn.index(this)?">":"<",slow:t.altKey,user:!0})}function No(t){Me(t,function(){setTimeout(function(){Ce(cn)},0),Eo(!1)})}function Ao(){if(nt=tn.data=nt||_e(O.data)||me(n),at=tn.size=nt.length,Lo.ok&&O.shuffle&&xe(nt),On(),Fn=Xn(Fn),at&&Wn(!0),Qn(),!Ao.i){Ao.i=!0;var t=O.startindex;Fn=yt=xt=_t=Nt=Bn(t)||0}if(at){if(function t(){if(!t.f===De)return t.f=De,Fn=at-1-Fn,tn.reverse(),!0}())return;vt&&Fo(vt,!0),wt=[],po(Rt),Ao.ok=!0,tn.show({index:Fn,time:0}),tn.resize()}else tn.destroy()}function Lo(){Lo.ok&&(Lo.ok=!1,bo("ready"))}ln[Rt]=o('<div class="'+y+'"></div>'),ln[Qt]=o(o.Fotorama.jst.thumb()),ln[Ht]=o(o.Fotorama.jst.dots()),qn[Rt]=[],qn[Qt]=[],qn[Ht]=[],Nn[Rt]={},ln.addClass(Et?l:u),rn.fotorama=this,tn.startAutoplay=function(t){return tn.autoplay?this:(Be=Ye=!1,Rn(t||O.autoplay),Co(),this)},tn.stopAutoplay=function(){return tn.autoplay&&(Be=Ye=!0,Co()),this},tn.showSlide=function(t){var e,n=Zt(wn,O.navdir),o="horizontal"===O.navdir?O.thumbwidth:O.thumbheight;"next"===t&&(e=n-(o+O.margin)*Bt),"prev"===t&&(e=n+(o+O.margin)*Bt),ao(e=Te(e,zn),!0),Ie(wn,{time:550,pos:e,direction:O.navdir,onEnd:function(){lo()}})},tn.showWhileLongPress=function(t){if(!tn.longPress.singlePressInProgress){Po(ko(t));var e=So(t)/50,n=gt;tn.activeFrame=gt=nt[Fn];var o=n===gt&&!t.user;return tn.showNav(o,t,e),this}},tn.showEndLongPress=function(t){if(!tn.longPress.singlePressInProgress){Po(ko(t));var e=So(t)/50,n=gt;tn.activeFrame=gt=nt[Fn];var o=n===gt&&!t.user;return tn.showStage(o,t,e),void 0!==_t&&_t!==Fn,_t=Fn,this}},tn.showStage=function(t,e,n,a){if(a===i||"IFRAME"!=a.target.tagName){Fo(vt,gt.i!==nt[Vn(yt)].i),no(wt,"stage"),io($t?[xt]:[xt,Yn(xt),Un(xt)]),zo("go",!0),t||bo("show",{user:e.user,time:n}),Be=!0;var r=e.overPos,s=tn.showStage.onEnd=function(n){if(!s.ok){if(s.ok=!0,n||go(!0),t||bo("showend",{user:e.user}),!n&&Ae&&Ae!==O.transition)return tn.setOptions({transition:Ae}),void(Ae=!1);to(),Zn(wt,"stage"),zo("go",!1),co(),Mo(),_o(),Co(),tn.fullScreen?(gt[Rt].find("."+it).attr("aria-hidden",!1),gt[Rt].find("."+ot).attr("aria-hidden",!0)):(gt[Rt].find("."+it).attr("aria-hidden",!0),gt[Rt].find("."+ot).attr("aria-hidden",!1))}};if(Se)!function t(e,n,i,a,r,s){var u=void 0!==s;if(u||(r.push(arguments),Array.prototype.push.call(arguments,r.length),!(r.length>1))){e=e||o(e),n=n||o(n);var l=e[0],c=n[0],d="crossfade"===a.method,h=function(){if(!h.done){h.done=!0;var e=(u||r.shift())&&r.shift();e&&t.apply(this,e),(a.onEnd||Gt)(!!e)}},f=a.time/(s||1);i.removeClass(D+" "+I),e.stop().addClass(D),n.stop().addClass(I),d&&c&&e.fadeTo(0,0),e.fadeTo(d?f:0,1,d&&h),n.fadeTo(f,0,h),l&&d||c||h()}}(gt[Rt],nt[_t]&&Fn!==_t?nt[_t][Rt]:null,hn,{time:n,method:O.transition,onEnd:s},Ln);else Ie(dn,{pos:-re(xt,En.w,O.margin,yt),overPos:r,time:n,onEnd:s});uo()}},tn.showNav=function(t,e,n){if(lo(),Xt){vo(Ze),qn[Ze].push(gt[Ze].addClass(V).attr("data-active",!0));var o=Xn(Fn+Jt(xt-_t,-1,1));mo({time:n,coo:o!==Fn&&e.coo,guessIndex:void 0!==e.coo?o:Fn,keep:t}),Yt&&fo(n)}},tn.show=function(t,e){tn.longPress.singlePressInProgress=!0,Po(ko(t));var n=So(t),o=gt;tn.activeFrame=gt=nt[Fn];var i=o===gt&&!t.user;return tn.showStage(i,t,n,e),tn.showNav(i,t,n),void 0!==_t&&_t!==Fn,_t=Fn,tn.longPress.singlePressInProgress=!1,this},tn.requestFullScreen=function(){if(se&&!tn.fullScreen){if(o((tn.activeFrame||{}).$stageFrame||{}).hasClass("fotorama-video-container"))return;Ve=Pt.scrollTop(),Xe=Pt.scrollLeft(),Ce(Pt),zo("x",!0),Ue=o.extend({},En),n.addClass(Y).appendTo(kt.addClass(r)),Ct.addClass(r),Fo(vt,!0,!0),tn.fullScreen=!0,ce&&bt.request(on),tn.resize(),Zn(wt,"stage"),to(),bo("fullscreenenter"),"ontouchstart"in t||kn.focus()}return this},tn.cancelFullScreen=function(){return ce&&bt.is()?bt.cancel(e):tn.fullScreen&&(tn.fullScreen=!1,jt&&bt.cancel(on),kt.removeClass(r),Ct.removeClass(r),n.removeClass(Y).insertAfter(un),En=o.extend({},Ue),Fo(vt,!0,!0),zo("x",!1),tn.resize(),Zn(wt,"stage"),Ce(Pt,Xe,Ve),bo("fullscreenexit")),this},tn.toggleFullScreen=function(){return tn[(tn.fullScreen?"cancel":"request")+"FullScreen"]()},tn.resize=function(e){if(!nt)return this;var n=arguments[1]||0,i=arguments[2];Bt=Hn(0,O),wo(tn.fullScreen?{width:o(t).width(),maxwidth:null,minwidth:null,height:o(t).height(),maxheight:null,minheight:null}:ke(e),[En,i||tn.fullScreen||O]);var a=En.width,r=En.height,s=En.ratio,u=Pt.height()-(Xt?gn.height():0);if(ae(a)&&(ln.css({width:""}),ln.css({height:""}),cn.css({width:""}),cn.css({height:""}),dn.css({width:""}),dn.css({height:""}),gn.css({width:""}),gn.css({height:""}),ln.css({minWidth:En.minwidth||0,maxWidth:En.maxwidth||1200}),"dots"===Xt&&pn.hide(),a=En.W=En.w=ln.width(),En.nw=Xt&&ie(O.navwidth,a)||a,dn.css({width:En.w,marginLeft:(En.W-En.w)/2}),r=(r=ie(r,u))||s&&a/s)){if(a=Math.round(a),r=En.h=Math.round(Jt(r,ie(En.minheight,u),ie(En.maxheight,u))),cn.css({width:a,height:r}),"vertical"!==O.navdir||tn.fullscreen||gn.width(O.thumbwidth+2*O.thumbmargin),"horizontal"!==O.navdir||tn.fullscreen||gn.height(O.thumbheight+2*O.thumbmargin),"dots"===Xt&&(gn.width(a).height("auto"),pn.show()),"vertical"===O.navdir&&tn.fullScreen&&cn.css("height",Pt.height()),"horizontal"===O.navdir&&tn.fullScreen&&cn.css("height",Pt.height()-gn.height()),Xt){switch(O.navdir){case"vertical":pn.removeClass(q),pn.removeClass($),pn.addClass(z),gn.stop().animate({height:En.h,width:O.thumbwidth},n);break;case"list":pn.removeClass(z),pn.removeClass(q),pn.addClass($);break;default:pn.removeClass(z),pn.removeClass($),pn.addClass(q),gn.stop().animate({width:En.nw},n)}go(),mo({guessIndex:Fn,time:n,keep:!0}),Yt&&ro.nav&&fo(n)}Qe=i||!0,Lo.ok=!0,Lo()}return An=cn.offset().left,Dn(),this},tn.setOptions=function(t){return o.extend(O,t),Ao(),this},tn.shuffle=function(){return nt&&xe(nt)&&Ao(),this},tn.longPress={threshold:1,count:0,thumbSlideTime:20,progress:function(){this.inProgress||(this.count++,this.inProgress=this.count>this.threshold)},end:function(){this.inProgress&&(this.isEnded=!0)},reset:function(){this.count=0,this.inProgress=!1,this.isEnded=!1}},tn.destroy=function(){return tn.cancelFullScreen(),tn.stopAutoplay(),nt=tn.data=null,Wn(),wt=[],po(Rt),Ao.ok=!1,this},tn.playVideo=function(){var t=gt,e=t.video,n=Fn;return"object"==typeof e&&t.videoReady&&(ce&&tn.fullScreen&&tn.cancelFullScreen(),ve(function(){return!bt.is()||n!==Fn},function(){var i;n===Fn&&(t.$video=t.$video||o(be(dt)).append('<iframe src="'+(i=e).p+i.type+".com/embed/"+i.id+'" frameborder="0" allowfullscreen></iframe>'),t.$video.appendTo(t[Rt]),ln.addClass(c),vt=t.$video,Kn(),vn.blur(),kn.blur(),bo("loadvideo"))})),this},tn.stopVideo=function(){return Fo(vt,!0,!0),this},tn.spliceByIndex=function(t,e){e.i=t+1,e.img&&o.ajax({url:e.img,type:"HEAD",success:function(){nt.splice(t,1,e),Ao()}})},cn.on("mousemove",Mo),Mn=Ke(dn,{onStart:yo,onMove:function(t,e){To(cn,e.edge)},onTouchEnd:xo,onEnd:function(t){var e,i,a,r,s,u,l;if(To(cn),e=(qt&&!Je||t.touch)&&O.arrows,(t.moved||e&&t.pos!==t.newPos&&!t.control)&&t.$target[0]!==kn[0]){var c=(r=t.newPos,s=En.w,u=O.margin,l=yt,-Math.round(r/(s+(u||0))-(l||0)));tn.show({index:c,time:Se?Ne:t.time,overPos:t.overPos,user:!0})}else t.aborted||t.control||(i=t.startEvent,a=i.target,o(a).hasClass(ht)?tn.playVideo():a===Pn?tn.toggleFullScreen():vt?a===Tn&&Fo(vt,!0,!0):n.hasClass(Y)||tn.requestFullScreen())},timeLow:1,timeHigh:1,friction:2,select:"."+X+", ."+X+" *",$wrap:cn,direction:"horizontal"}),zn=Ke(wn,{onStart:yo,onMove:function(t,e){To(gn,e.edge)},onTouchEnd:xo,onEnd:function(t){function e(){mo.l=t.newPos,_o(),Co(),ao(t.newPos,!0),lo()}if(t.moved)t.pos!==t.newPos?(Be=!0,Ie(wn,{time:t.time,pos:t.newPos,overPos:t.overPos,direction:O.navdir,onEnd:e}),ao(t.newPos),Le&&To(gn,ge(t.newPos,zn.min,zn.max,t.dir))):e();else{var n=t.$target.closest("."+L,wn)[0];n&&$o.call(n,t.startEvent)}},timeLow:.5,timeHigh:2,friction:5,$wrap:gn,direction:O.navdir}),jn=Re(cn,{shift:!0,onEnd:function(t,e){yo(),xo(),tn.show({index:e,slow:t.altKey})}}),$n=Re(gn,{onEnd:function(t,e){yo(),xo();var n=ue(wn)+.25*e;wn.css(te(Jt(n,zn.min,zn.max),O.navdir)),Le&&To(gn,ge(n,zn.min,zn.max,O.navdir)),$n.prevent={"<":n>=zn.max,">":n<=zn.min},clearTimeout($n.t),$n.t=setTimeout(function(){mo.l=n,ao(n,!0)},At),ao(n)}}),ln.hover(function(){setTimeout(function(){Ge||Eo(!(Je=!0))},0)},function(){Je&&Eo(!(Je=!1))}),we(vn,function(t){je(t),qo.call(this,t)},{onStart:function(){yo(),Mn.control=!0},onTouchEnd:xo}),we(_n,function(t){je(t),"thumbs"===O.navtype?tn.show("<"):tn.showSlide("prev")}),we(Cn,function(t){je(t),"thumbs"===O.navtype?tn.show(">"):tn.showSlide("next")}),vn.each(function(){Ee(this,function(t){qo.call(this,t)}),No(this)}),Ee(Pn,function(){n.hasClass(Y)?(tn.cancelFullScreen(),dn.focus()):(tn.requestFullScreen(),kn.focus())}),No(Pn),o.each("load push pop shift unshift reverse sort splice".split(" "),function(t,e){tn[e]=function(){return nt=nt||[],"load"!==e?Array.prototype[e].apply(nt,arguments):arguments[0]&&"object"==typeof arguments[0]&&arguments[0].length&&(nt=_e(arguments[0])),Ao(),tn}}),Ao()},o.fn.fotorama=function(e){return this.each(function(){var n=this,i=o(this),a=i.data(),r=a.fotorama;r?r.setOptions(e,!0):ve(function(){return!(0===(t=n).offsetWidth&&0===t.offsetHeight);var t},function(){a.urtext=i.html(),new o.Fotorama(i,o.extend({},Yt,t.fotoramaDefaults,e,a))})})},o.Fotorama.instances=[],o.Fotorama.cache={},o.Fotorama.measures={},(o=o||{}).Fotorama=o.Fotorama||{},o.Fotorama.jst=o.Fotorama.jst||{},o.Fotorama.jst.dots=function(t){return'<div class="fotorama__nav__frame fotorama__nav__frame--dot" tabindex="0" role="button" data-gallery-role="nav-frame" data-nav-type="thumb" aria-label>\r\n    <div class="fotorama__dot"></div>\r\n</div>','<div class="fotorama__nav__frame fotorama__nav__frame--dot" tabindex="0" role="button" data-gallery-role="nav-frame" data-nav-type="thumb" aria-label>\r\n    <div class="fotorama__dot"></div>\r\n</div>'},o.Fotorama.jst.frameCaption=function(t){var e,n="";return n+='<div class="fotorama__caption" aria-hidden="true">\r\n    <div class="fotorama__caption__wrap" id="'+(null==(e=t.labelledby)?"":e)+'">'+(null==(e=t.caption)?"":e)+"</div>\r\n</div>\r\n"},o.Fotorama.jst.style=function(t){var e,n="";return n+=".fotorama"+(null==(e=t.s)?"":e)+" .fotorama__nav--thumbs .fotorama__nav__frame{\r\npadding:"+(null==(e=t.m)?"":e)+"px;\r\nheight:"+(null==(e=t.h)?"":e)+"px}\r\n.fotorama"+(null==(e=t.s)?"":e)+" .fotorama__thumb-border{\r\nheight:"+(null==(e=t.h)?"":e)+"px;\r\nborder-width:"+(null==(e=t.b)?"":e)+"px;\r\nmargin-top:"+(null==(e=t.m)?"":e)+"px}"},o.Fotorama.jst.thumb=function(t){return'<div class="fotorama__nav__frame fotorama__nav__frame--thumb" tabindex="0" role="button" data-gallery-role="nav-frame" data-nav-type="thumb" aria-label>\r\n    <div class="fotorama__thumb">\r\n    </div>\r\n</div>','<div class="fotorama__nav__frame fotorama__nav__frame--thumb" tabindex="0" role="button" data-gallery-role="nav-frame" data-nav-type="thumb" aria-label>\r\n    <div class="fotorama__thumb">\r\n    </div>\r\n</div>'}}(window,document,location,"undefined"!=typeof jQuery&&jQuery);